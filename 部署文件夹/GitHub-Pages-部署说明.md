# GitHub Pages è‡ªåŠ¨éƒ¨ç½²é…ç½®è¯´æ˜

**é…ç½®æ—¥æœŸ**: 2025-01-06  
**éƒ¨ç½²åœ°å€**: https://kcaaaa.github.io/demo/  
**éƒ¨ç½²æ–¹å¼**: GitHub Actionsè‡ªåŠ¨åŒ–éƒ¨ç½²  
**çŠ¶æ€**: âœ… å·²é…ç½®å®Œæˆ

---

## é—®é¢˜èƒŒæ™¯

### åŸå§‹é—®é¢˜
- GitHub Pagesè™½ç„¶å·²æ¿€æ´»ï¼Œä½†æ˜¾ç¤ºçš„æ˜¯é¡¹ç›®æ ¹ç›®å½•å†…å®¹
- Reactåº”ç”¨ä½äº`app/`ç›®å½•ï¼Œéœ€è¦æ„å»ºåæ‰èƒ½è®¿é—®
- ä¸šä¸»æ— æ³•é€šè¿‡ https://kcaaaa.github.io/demo/ æŸ¥çœ‹å®é™…åº”ç”¨

### æ ¹æœ¬åŸå› 
1. **Reactåº”ç”¨éœ€è¦æ„å»º**: Viteé¡¹ç›®å¿…é¡»å…ˆæ‰§è¡Œ`npm run build`ç”Ÿæˆ`dist/`ç›®å½•
2. **éƒ¨ç½²æºé…ç½®é”™è¯¯**: GitHub Pagesé…ç½®ä¸ºä»mainåˆ†æ”¯æ ¹ç›®å½•éƒ¨ç½²ï¼Œè€Œéæ„å»ºäº§ç‰©
3. **ç¼ºå°‘è‡ªåŠ¨åŒ–æµç¨‹**: æ¯æ¬¡ä»£ç æ›´æ–°éƒ½éœ€è¦æ‰‹åŠ¨æ„å»ºå’Œéƒ¨ç½²

---

## è§£å†³æ–¹æ¡ˆ

### 1. GitHub Actionsè‡ªåŠ¨éƒ¨ç½²

åˆ›å»ºäº†`.github/workflows/deploy.yml`å·¥ä½œæµæ–‡ä»¶ï¼Œå®ç°ï¼š

#### âœ… è‡ªåŠ¨è§¦å‘æ¡ä»¶
- æ¨é€åˆ°mainåˆ†æ”¯æ—¶è‡ªåŠ¨è§¦å‘
- æ”¯æŒæ‰‹åŠ¨è§¦å‘(workflow_dispatch)

#### âœ… æ„å»ºæµç¨‹
1. **æ£€å‡ºä»£ç **: ä½¿ç”¨`actions/checkout@v4`
2. **è®¾ç½®Node.js**: å®‰è£…Node.js 18ç‰ˆæœ¬
3. **å®‰è£…ä¾èµ–**: æ‰§è¡Œ`npm ci`ï¼ˆæ¯”npm installæ›´å¿«æ›´ç¨³å®šï¼‰
4. **æ„å»ºé¡¹ç›®**: æ‰§è¡Œ`npm run build`ç”Ÿæˆdistç›®å½•
5. **ä¸Šä¼ æ„å»ºäº§ç‰©**: å°†distç›®å½•ä¸Šä¼ ä¸ºPages artifact

#### âœ… éƒ¨ç½²æµç¨‹
1. **é…ç½®Pages**: è‡ªåŠ¨é…ç½®GitHub Pagesè®¾ç½®
2. **éƒ¨ç½²**: å°†æ„å»ºäº§ç‰©éƒ¨ç½²åˆ°GitHub Pagesç¯å¢ƒ

### 2. é¡¹ç›®é…ç½®éªŒè¯

#### Viteé…ç½® (å·²æ­£ç¡®é…ç½®) âœ…
```typescript
// app/vite.config.ts
export default defineConfig({
  plugins: [react()],
  base: '/demo/',  // ä¸ä»“åº“åä¸€è‡´
})
```

#### è·¯ç”±é…ç½® (å·²æ­£ç¡®é…ç½®) âœ…
```typescript
// app/src/router.tsx
export const router = createBrowserRouter([
  // è·¯ç”±é…ç½®...
], {
  basename: '/demo',  // ä¸baseé…ç½®ä¸€è‡´
})
```

#### .gitignoreé…ç½® (å·²ä¼˜åŒ–) âœ…
- æ’é™¤node_modulesã€distç­‰æ„å»ºæ–‡ä»¶
- ä¿æŒä»“åº“å¹²å‡€ï¼Œåªæäº¤æºä»£ç 

---

## éƒ¨ç½²æµç¨‹è¯¦è§£

### å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å¼€å‘è€…æ¨é€ä»£ç åˆ°mainåˆ†æ”¯                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. GitHub Actionsè‡ªåŠ¨è§¦å‘                                    â”‚
â”‚    - æ£€æµ‹åˆ°mainåˆ†æ”¯æœ‰æ–°æäº¤                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æ„å»ºä»»åŠ¡ (Build Job)                                      â”‚
â”‚    â”œâ”€ Checkoutä»£ç                                           â”‚
â”‚    â”œâ”€ è®¾ç½®Node.jsç¯å¢ƒ                                        â”‚
â”‚    â”œâ”€ å®‰è£…ä¾èµ– (npm ci)                                      â”‚
â”‚    â”œâ”€ æ„å»ºé¡¹ç›® (npm run build)                               â”‚
â”‚    â””â”€ ä¸Šä¼ distç›®å½•ä½œä¸ºartifact                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. éƒ¨ç½²ä»»åŠ¡ (Deploy Job)                                     â”‚
â”‚    â”œâ”€ ä»æ„å»ºä»»åŠ¡è·å–artifact                                 â”‚
â”‚    â”œâ”€ é…ç½®GitHub Pages                                       â”‚
â”‚    â””â”€ éƒ¨ç½²åˆ°github-pagesç¯å¢ƒ                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. éƒ¨ç½²å®Œæˆ                                                   â”‚
â”‚    âœ… ç½‘ç«™å¯é€šè¿‡ https://kcaaaa.github.io/demo/ è®¿é—®         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¦–æ¬¡éƒ¨ç½²æ­¥éª¤

1. **æ¨é€å·¥ä½œæµé…ç½®** âœ… å·²å®Œæˆ
   ```bash
   git add .github/workflows/deploy.yml
   git commit -m "ci: æ·»åŠ GitHub Actionsè‡ªåŠ¨éƒ¨ç½²å·¥ä½œæµ"
   git push origin main
   ```

2. **GitHub Actionsè‡ªåŠ¨æ‰§è¡Œ** â³ è¿›è¡Œä¸­
   - è®¿é—®: https://github.com/kcaaaa/demo/actions
   - æŸ¥çœ‹å·¥ä½œæµè¿è¡ŒçŠ¶æ€
   - é¢„è®¡è€—æ—¶: 2-5åˆ†é’Ÿ

3. **éªŒè¯éƒ¨ç½²ç»“æœ** â³ å¾…éªŒè¯
   - ç­‰å¾…Actionså®Œæˆ
   - è®¿é—®: https://kcaaaa.github.io/demo/
   - åº”è¯¥çœ‹åˆ°ç™»å½•é¡µé¢

---

## GitHub Pagesè®¾ç½®éªŒè¯

### å½“å‰é…ç½® (éœ€è¦è°ƒæ•´)

æ ¹æ®æˆªå›¾ï¼Œå½“å‰GitHub Pagesé…ç½®ï¼š
- âœ… **çŠ¶æ€**: å·²æ¿€æ´»
- âš ï¸ **éƒ¨ç½²æº**: Deploy from a branch - mainåˆ†æ”¯ - /(root)ç›®å½•
- â³ **éœ€è¦æ”¹ä¸º**: GitHub Actions

### è°ƒæ•´æ­¥éª¤

**è¯·åœ¨GitHubä»“åº“æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š**

1. **è¿›å…¥Settings â†’ Pages**
   - URL: https://github.com/kcaaaa/demo/settings/pages

2. **æ›´æ”¹éƒ¨ç½²æº**
   - å½“å‰: "Deploy from a branch"
   - **æ”¹ä¸º**: "GitHub Actions"
   - ç‚¹å‡»"Save"æŒ‰é’®

3. **ç­‰å¾…Actionsè¿è¡Œ**
   - è®¿é—®: https://github.com/kcaaaa/demo/actions
   - æŸ¥çœ‹"Deploy to GitHub Pages"å·¥ä½œæµ
   - ç­‰å¾…ç»¿è‰²âœ…æ ‡è®°

4. **éªŒè¯éƒ¨ç½²**
   - è®¿é—®: https://kcaaaa.github.io/demo/
   - åº”è¯¥çœ‹åˆ°å®Œæ•´çš„åº”ç”¨ç•Œé¢

---

## éªŒè¯æ¸…å•

### éƒ¨ç½²å‰éªŒè¯ âœ…
- [x] Vite baseé…ç½®æ­£ç¡® (`/demo/`)
- [x] Router basenameé…ç½®æ­£ç¡® (`/demo`)
- [x] GitHub Actionså·¥ä½œæµæ–‡ä»¶å·²åˆ›å»º
- [x] .gitignoreé…ç½®åˆç†
- [x] ä»£ç å·²æ¨é€åˆ°mainåˆ†æ”¯

### GitHubè®¾ç½®éªŒè¯ â³
- [ ] Pageséƒ¨ç½²æºæ”¹ä¸º"GitHub Actions"
- [ ] Actionså·¥ä½œæµæˆåŠŸè¿è¡Œ
- [ ] æ— æ„å»ºé”™è¯¯

### éƒ¨ç½²åéªŒè¯ â³
- [ ] é¦–é¡µå¯æ­£å¸¸è®¿é—®
- [ ] ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] å…¥å£é¡µåœ°å›¾æ˜¾ç¤ºæ­£å¸¸
- [ ] æ‰€æœ‰è·¯ç”±å¯æ­£å¸¸è·³è½¬
- [ ] èµ„æºæ–‡ä»¶åŠ è½½æ­£å¸¸ (CSS/JS/å›¾ç‰‡)
- [ ] ç§»åŠ¨ç«¯å“åº”å¼æ­£å¸¸
- [ ] åˆ·æ–°é¡µé¢ä¸å‡ºç°404

---

## åç»­ç»´æŠ¤

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. å¼€å‘ä»£ç 
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"

# 2. æ¨é€åˆ°mainåˆ†æ”¯
git push origin main

# 3. è‡ªåŠ¨è§¦å‘éƒ¨ç½²
# GitHub Actionsä¼šè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²
# æ— éœ€æ‰‹åŠ¨æ“ä½œ

# 4. éªŒè¯éƒ¨ç½²ç»“æœ
# ç­‰å¾…2-5åˆ†é’Ÿåè®¿é—®ç½‘ç«™
```

### æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

1. **Actionsé¡µé¢**
   - URL: https://github.com/kcaaaa/demo/actions
   - æŸ¥çœ‹æœ€æ–°çš„"Deploy to GitHub Pages"å·¥ä½œæµ
   - ç»¿è‰²âœ…è¡¨ç¤ºæˆåŠŸï¼Œçº¢è‰²âŒè¡¨ç¤ºå¤±è´¥

2. **Pagesè®¾ç½®é¡µé¢**
   - URL: https://github.com/kcaaaa/demo/settings/pages
   - æŸ¥çœ‹"Last deployed"æ—¶é—´
   - ç‚¹å‡»"Visit site"æŒ‰é’®ç›´æ¥è®¿é—®

### æ‰‹åŠ¨è§¦å‘éƒ¨ç½²

å¦‚éœ€æ‰‹åŠ¨è§¦å‘éƒ¨ç½²(æ— éœ€æ¨é€ä»£ç ):

1. è®¿é—®: https://github.com/kcaaaa/demo/actions
2. ç‚¹å‡»"Deploy to GitHub Pages"å·¥ä½œæµ
3. ç‚¹å‡»"Run workflow"æŒ‰é’®
4. é€‰æ‹©åˆ†æ”¯(main)ï¼Œç‚¹å‡»"Run workflow"

---

## å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

### Q1: Actionsè¿è¡Œå¤±è´¥ï¼Œæç¤º"npm ci"é”™è¯¯
**åŸå› **: package-lock.jsonæ–‡ä»¶é—®é¢˜  
**è§£å†³**: 
```bash
cd app
npm install
git add package-lock.json
git commit -m "fix: æ›´æ–°package-lock.json"
git push
```

### Q2: éƒ¨ç½²æˆåŠŸä½†é¡µé¢ç©ºç™½
**åŸå› **: baseè·¯å¾„é…ç½®é”™è¯¯  
**è§£å†³**: æ£€æŸ¥`vite.config.ts`çš„baseé…ç½®æ˜¯å¦ä¸º`/demo/`

### Q3: åˆ·æ–°é¡µé¢å404
**åŸå› **: SPAè·¯ç”±é—®é¢˜  
**è§£å†³**: å·²åœ¨`app/public/`æ·»åŠ 404.htmlé‡å®šå‘æ–‡ä»¶

### Q4: Actionsæç¤ºæƒé™ä¸è¶³
**åŸå› **: GitHub Pageséƒ¨ç½²æƒé™æœªé…ç½®  
**è§£å†³**: 
1. Settings â†’ Actions â†’ General
2. Workflow permissions: é€‰æ‹©"Read and write permissions"
3. å‹¾é€‰"Allow GitHub Actions to create and approve pull requests"
4. ç‚¹å‡»Save

### Q5: CSS/JSæ–‡ä»¶404
**åŸå› **: èµ„æºè·¯å¾„é—®é¢˜  
**è§£å†³**: ç¡®ä¿æ‰€æœ‰èµ„æºä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ŒViteä¼šè‡ªåŠ¨å¤„ç†baseè·¯å¾„

---

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å·²å®æ–½çš„ä¼˜åŒ– âœ…
- [x] ä½¿ç”¨Viteå¿«é€Ÿæ„å»º
- [x] ä»£ç åˆ†å‰²(Code Splitting)
- [x] Tree Shaking
- [x] èµ„æºå‹ç¼©
- [x] CDNåŠ é€Ÿ(Leaflet)

### å»ºè®®ä¼˜åŒ–é¡¹ ğŸ’¡
1. **æ„å»ºç¼“å­˜**
   - GitHub Actionsç¼“å­˜node_modules
   - åŠ å¿«åç»­æ„å»ºé€Ÿåº¦

2. **èµ„æºä¼˜åŒ–**
   - å›¾ç‰‡æ‡’åŠ è½½
   - è·¯ç”±æ‡’åŠ è½½
   - ç»„ä»¶æŒ‰éœ€åŠ è½½

3. **CDNåŠ é€Ÿ**
   - ä½¿ç”¨Cloudflare CDN
   - åŠ é€Ÿä¸­å›½åŒºåŸŸè®¿é—®

---

## ç›‘æ§å’Œåˆ†æ

### è®¿é—®ç»Ÿè®¡
- **GitHub Insights**: https://github.com/kcaaaa/demo/graphs/traffic
- **éƒ¨ç½²å†å²**: https://github.com/kcaaaa/demo/deployments

### æ€§èƒ½ç›‘æ§
1. **Lighthouseæµ‹è¯•**
   - Chrome DevTools â†’ Lighthouse
   - æ£€æŸ¥æ€§èƒ½ã€å¯è®¿é—®æ€§ã€SEOç­‰æŒ‡æ ‡

2. **åŠ è½½é€Ÿåº¦**
   - é¦–æ¬¡åŠ è½½: ç›®æ ‡<3ç§’
   - åç»­åŠ è½½: ç›®æ ‡<1ç§’

---

## ç»™ä¸šä¸»çš„è®¿é—®è¯´æ˜

### è®¿é—®åœ°å€
**ğŸŒ çº¿ä¸Šåœ°å€**: https://kcaaaa.github.io/demo/

### æµ‹è¯•è´¦å· (ä»¿çœŸç³»ç»Ÿ)
```
ç®¡ç†å‘˜è´¦å·:
ç”¨æˆ·å: admin
å¯†ç : admin123

æŸ¥çœ‹è€…è´¦å·:
ç”¨æˆ·å: viewer
å¯†ç : viewer123
```

### åŠŸèƒ½æ¸…å•
1. âœ… å…¥å£é¡µ - ä¸­å›½é«˜é“ç«™åœ°å›¾é€‰æ‹©
2. âœ… é¦–é¡µ - ç»¼åˆèƒ½è€—ä»ªè¡¨æ¿
3. âœ… å•ç«™åˆ†æ - å•ä¸ªè½¦ç«™èƒ½è€—è¯¦ç»†åˆ†æ
4. âœ… èƒ½è€—å æ¯” - å„ç³»ç»Ÿèƒ½è€—å æ¯”åˆ†æ
5. âœ… é¢„è­¦ä¸­å¿ƒ - èƒ½è€—å¼‚å¸¸é¢„è­¦
6. âœ… å¤šç«™å¯¹æ¯” - å¤šä¸ªè½¦ç«™èƒ½è€—å¯¹æ¯”
7. âœ… ç­–ç•¥æ¨¡æ‹Ÿ - èŠ‚èƒ½ç­–ç•¥æ¨¡æ‹Ÿä¸æ¨è
8. âœ… è®¾å¤‡ç®¡ç† - è®¾å¤‡å°è´¦ä¸çŠ¶æ€ç›‘æ§
9. âœ… ç³»ç»Ÿç®¡ç† - ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†

### æµè§ˆå™¨è¦æ±‚
- Chrome 90+ âœ… æ¨è
- Safari 14+ âœ…
- Firefox 88+ âœ…
- Edge 90+ âœ…

### ç§»åŠ¨ç«¯æ”¯æŒ
- âœ… å“åº”å¼è®¾è®¡
- âœ… æ”¯æŒå¹³æ¿å’Œæ‰‹æœºè®¿é—®
- âœ… è§¦æ‘¸æ“ä½œä¼˜åŒ–

---

## æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **æŠ€æœ¯è´Ÿè´£äºº**: äº§å“æŠ€æœ¯å›¢é˜Ÿ
- **é‚®ç®±**: 2473994475@qq.com
- **GitHub**: https://github.com/kcaaaa/demo

### é—®é¢˜åé¦ˆ
å¦‚é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. è®¿é—®æ—¶é—´
2. ä½¿ç”¨çš„æµè§ˆå™¨å’Œç‰ˆæœ¬
3. å…·ä½“é—®é¢˜æè¿°å’Œæˆªå›¾
4. æ§åˆ¶å°é”™è¯¯ä¿¡æ¯(F12æ‰“å¼€å¼€å‘è€…å·¥å…·)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-01-06  
**æœ€åæ›´æ–°**: 2025-01-06  
**è´Ÿè´£äºº**: ç³»ç»Ÿç®¡ç†å‘˜

